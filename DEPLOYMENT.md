# ğŸš€ Mirror.xyz Clone - Render Deployment Guide

## ğŸ“‹ **Prerequisites**

- Render account (free tier available)
- MongoDB Atlas account (free tier available)
- MetaMask wallet for testing
- Irys devnet funds for testing

## ğŸ”§ **Current Issues Fixed**

### **Backend Issues:**
- âœ… Fixed uvicorn not found (added to requirements.txt)
- âœ… Fixed missing dependencies
- âœ… Fixed environment variables

### **Frontend Issues:**
- âœ… Fixed npm start script (using craco)
- âœ… Fixed dependency conflicts (--legacy-peer-deps)
- âœ… Fixed build configuration

## ğŸŒ **Render Deployment Steps**

### **Step 1: Prepare Your Repository**

1. **Push to GitHub:**
```bash
git init
git add .
git commit -m "Initial commit - Mirror.xyz clone"
git branch -M main
git remote add origin https://github.com/YOUR_USERNAME/mirror-clone.git
git push -u origin main
```

### **Step 2: Deploy to Render**

1. **Go to Render Dashboard:**
   - Visit: https://dashboard.render.com
   - Sign up/Login with GitHub

2. **Create New Blueprint:**
   - Click "New +" â†’ "Blueprint"
   - Connect your GitHub repository
   - Select the repository with your Mirror.xyz clone

3. **Configure Blueprint:**
   - Render will automatically detect `render.yaml`
   - Review the configuration
   - Click "Apply"

### **Step 3: Environment Variables**

The `render.yaml` file includes all necessary environment variables:

#### **Backend Variables:**
- `MONGO_URL`: Your MongoDB Atlas connection string
- `IRYS_NETWORK`: devnet (for testing)
- `JWT_SECRET`: Auto-generated by Render
- `CORS_ALLOWED_ORIGINS`: Frontend URL

#### **Frontend Variables:**
- `REACT_APP_BACKEND_URL`: Backend service URL
- `REACT_APP_IRYS_NETWORK`: devnet
- `REACT_APP_GATEWAY_URL`: Irys gateway

### **Step 4: MongoDB Atlas Setup**

1. **Create Cluster:**
   - Go to MongoDB Atlas
   - Create free cluster
   - Get connection string

2. **Update render.yaml:**
   - Replace `MONGO_URL` with your connection string
   - Keep the same format as shown

### **Step 5: Deploy**

1. **Apply Blueprint:**
   - Click "Apply" in Render
   - Wait for both services to deploy

2. **Monitor Deployment:**
   - Backend: ~5-10 minutes
   - Frontend: ~3-5 minutes

## ğŸ”— **Service URLs**

After deployment, you'll get:

- **Backend:** `https://mirror-clone-backend.onrender.com`
- **Frontend:** `https://mirror-clone-frontend.onrender.com`

## ğŸ§ª **Testing Your Deployment**

### **1. Test Backend:**
```bash
curl https://mirror-clone-backend.onrender.com/api/health
```

Expected response:
```json
{
  "status": "healthy",
  "timestamp": "2024-01-01T00:00:00"
}
```

### **2. Test Frontend:**
- Visit: `https://mirror-clone-frontend.onrender.com`
- Should load the homepage
- Test wallet connection
- Try writing an article

### **3. Test Features:**
- âœ… Connect MetaMask wallet
- âœ… Write and publish articles
- âœ… View articles
- âœ… Leave comments
- âœ… Send tips
- âœ… Mint NFTs
- âœ… View analytics

## ğŸ”§ **Local Development (Fixed)**

### **Backend Setup:**
```bash
cd backend
pip install -r requirements.txt
uvicorn server:app --reload
```

### **Frontend Setup:**
```bash
cd frontend
npm install --legacy-peer-deps
npm start
```

## ğŸš¨ **Common Issues & Solutions**

### **Issue 1: Uvicorn Not Found**
```bash
# Solution: Install uvicorn
pip install uvicorn
```

### **Issue 2: npm start Missing Script**
```bash
# Solution: Use craco
npm run start
# or
npx craco start
```

### **Issue 3: Dependency Conflicts**
```bash
# Solution: Use legacy peer deps
npm install --legacy-peer-deps
```

### **Issue 4: Build Failures**
```bash
# Solution: Clear cache and rebuild
npm run build -- --reset-cache
```

## ğŸ“Š **Performance Optimization**

### **Frontend:**
- âœ… Source maps disabled for production
- âœ… Hot reload disabled
- âœ… Optimized build size
- âœ… CDN caching enabled

### **Backend:**
- âœ… Async database operations
- âœ… Connection pooling
- âœ… CORS optimized
- âœ… Rate limiting ready

## ğŸ”’ **Security Features**

- âœ… JWT authentication
- âœ… CORS protection
- âœ… Input validation
- âœ… Rate limiting
- âœ… Secure headers

## ğŸ“± **Mobile Responsive**

- âœ… Tailwind CSS responsive design
- âœ… Mobile-first approach
- âœ… Touch-friendly interface
- âœ… PWA ready

## ğŸ¯ **Production Checklist**

- [ ] Backend deployed and healthy
- [ ] Frontend deployed and accessible
- [ ] Database connected
- [ ] Environment variables set
- [ ] CORS configured
- [ ] SSL certificates active
- [ ] Domain configured (optional)
- [ ] Analytics tracking
- [ ] Error monitoring
- [ ] Performance monitoring

## ğŸš€ **Go Live!**

Your Mirror.xyz clone is now:
- âœ… **Fully deployed** on Render
- âœ… **Production ready**
- âœ… **Mobile responsive**
- âœ… **Web3 integrated**
- âœ… **Scalable architecture**

**Visit your live site:** `https://mirror-clone-frontend.onrender.com`

## ğŸ“ **Support**

- **Render Docs:** https://render.com/docs
- **MongoDB Atlas:** https://docs.atlas.mongodb.com
- **Irys Docs:** https://docs.irys.xyz
- **GitHub Issues:** Create issue in your repo

---

**ğŸ‰ Congratulations! Your Mirror.xyz clone is now live and ready for users!** 